<div>
  <div class="row">
    <div class="col-md-12">
      <p-dataTable [value]="experiments" [(selection)]="selectedExperiments" resizableColumns="true" [rows]="20" [paginator]="true"  [sortField]="displayRanks ? 'rank' : 'id'" [sortOrder]="displayRanks ? 1 : -1">
        <p-column [style]="{'width':'38px'}" selectionMode="multiple"></p-column>
        <p-column *ngIf="displayRanks" field="rank" header="Rank" [sortable]="true" [filter]="true" filterPlaceholder="Search" filterMatchMode="contains"  [style]="{'width':'10%'}"></p-column>
        <p-column *ngIf="displayIDs" field="id" header="Experiment" [sortable]="true"  [filter]="true" filterPlaceholder="Search" filterMatchMode="contains"></p-column>
        <p-column field="system.name" header="System" [sortable]="true" [filter]="true" filterPlaceholder="Search" filterMatchMode="contains">
          <template let-col let-experiment="rowData" pTemplate="body">
            <span *ngIf="experiment.system" [title]="experiment.system.description ? experiment.system.description : ''">{{experiment.system.name}}</span>
          </template>
        </p-column>
        <p-column *ngIf="displayChallengeTasks" field="challengeTask.name" header="ChallengeTask" [sortable]="true" [filter]="true" filterPlaceholder="Search" filterMatchMode="contains">
          <template let-col let-experiment="rowData" pTemplate="body">
            <span *ngIf="experiment.challengeTask" [title]="experiment.challengeTask.description ? experiment.challengeTask.description : ''">{{experiment.challengeTask.name}}</span>
          </template>
        </p-column>
      </p-dataTable>
    </div>
  </div>
  <div class="row">
    <br>
    <div class="col-md-8">
      <button type="button" class="btn btn-primary" [disabled]="!selectedExperiments || selectedExperiments.length === 0" (click)="showDetails()">Show Details</button>
    </div>
  </div>
  <div *ngIf="displayChallengeTasks && distinctTasks && distinctTasks.length > 0" class="row">
    <br>
    <h5>Show Details for all Experiments of following Challenge Task</h5>
    <div class="col-md-8">
      <span *ngFor="let task of distinctTasks">
        <button type="button" class="btn btn-default" [title]="task.description ? task.description : ''" (click)="showDetailsForChallengeTask(task)">{{task.name}} </button>
      </span>
    </div>
  </div>
</div>
